(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){"use strict";var puremvc=require("puremvc").puremvc;var StartupCommand=require("./controller/command/StartupCommand.js");var AppFacade=module.exports=puremvc.define({name:"AppFacade",parent:puremvc.Facade,constructor:function(multitonKey){puremvc.Facade.call(this,multitonKey)}},{initializeController:function(){puremvc.Facade.prototype.initializeController.call(this);this.registerCommand(AppFacade.STARTUP,StartupCommand)},initializeModel:function(){puremvc.Facade.prototype.initializeModel.call(this)},initializeView:function(){puremvc.Facade.prototype.initializeView.call(this)},startup:function(){this.sendNotification(AppFacade.STARTUP)}},{getInstance:function(multitonKey){var instanceMap=puremvc.Facade.instanceMap;var instance=instanceMap[multitonKey];if(instance){return instance}return instanceMap[multitonKey]=new AppFacade(multitonKey)},NAME:"AppFacade",STARTUP:"Startup"})},{"./controller/command/StartupCommand.js":7,puremvc:36}],2:[function(require,module,exports){"use strict";var AppFacade=require("./AppFacade.js");(function(){cc.game.config[cc.game.CONFIG_KEY.debugMode]=1;cc.game.config[cc.game.CONFIG_KEY.showFPS]=true;cc.game.config[cc.game.CONFIG_KEY.frameRate]=60;cc.game.config[cc.game.CONFIG_KEY.id]="gameCanvas";cc.game.config[cc.game.CONFIG_KEY.renderMode]=0;cc.game.onStart=function(){cc.view.adjustViewPort(true);cc.view.setDesignResolutionSize(800,450,cc.ResolutionPolicy.SHOW_ALL);cc.view.resizeWithBrowserSize(true);cc.director.setProjection(cc.Director.PROJECTION_2D);var key="MVC_HELLOWORLD";AppFacade.getInstance(key).startup()};cc.game.run()})()},{"./AppFacade.js":1}],3:[function(require,module,exports){"use strict";var puremvc=require("puremvc").puremvc;var SceneFsm=require("./../../profile/flow/SceneFsm.js").SceneFsm;module.exports=puremvc.define({name:"controller.command.InjectFSMCommand",parent:puremvc.SimpleCommand},{execute:function(notification){cc.log("InjectFSMCommand execute");var sceneFsm=new SceneFsm;var fsm=sceneFsm.createFsm();var injector=new puremvc.statemachine.FSMInjector(fsm);injector.initializeNotifier(this.multitonKey);injector.inject()}},{NAME:"PrepControllerCommand"})},{"./../../profile/flow/SceneFsm.js":14,puremvc:36}],4:[function(require,module,exports){"use strict";var puremvc=require("puremvc").puremvc;module.exports=puremvc.define({name:"controller.command.PrepControllerCommand",parent:puremvc.SimpleCommand},{execute:function(notification){cc.log("PrepControllerCommand execute")}},{NAME:"PrepControllerCommand"})},{puremvc:36}],5:[function(require,module,exports){"use strict";var puremvc=require("puremvc").puremvc;var AppConfigProxy=require("./../../model/proxy/AppConfigProxy");var GameProxy=require("./../../model/proxy/GameProxy");var RectangleProxy=require("./../../model/proxy/RectangleProxy");var BookProxy=require("./../../model/proxy/BookProxy");module.exports=puremvc.define({name:"controller.command.PrepModelCommand",parent:puremvc.SimpleCommand},{execute:function(notification){cc.log("PrepModelCommand execute");this.facade.registerProxy(new AppConfigProxy);this.facade.registerProxy(new GameProxy);this.facade.registerProxy(new RectangleProxy);this.facade.registerProxy(new BookProxy)}},{NAME:"PrepModelCommand"})},{"./../../model/proxy/AppConfigProxy":9,"./../../model/proxy/BookProxy":10,"./../../model/proxy/GameProxy":11,"./../../model/proxy/RectangleProxy":12,puremvc:36}],6:[function(require,module,exports){"use strict";var puremvc=require("puremvc").puremvc;var DirectorMediator=require("./../../view/mediator/DirectorMediator.js");var SceneMediator=require("./../../view/mediator/SceneMediator.js");var MenuMediator=require("./../../view/mediator/MenuMediator.js");var HelloMediator=require("./../../view/mediator/HelloMediator.js");var GameMediator=require("./../../view/mediator/GameMediator.js");var GameOverMediator=require("./../../view/mediator/GameOverMediator.js");var DrawMediator=require("./../../view/mediator/DrawMediator.js");var BookMediator=require("./../../view/mediator/BookMediator.js");module.exports=puremvc.define({name:"controller.command.PrepViewCommand",parent:puremvc.SimpleCommand},{execute:function(notification){cc.log("PrepViewCommand execute");this.facade.registerMediator(new DirectorMediator);this.facade.registerMediator(new SceneMediator);this.facade.registerMediator(new MenuMediator);this.facade.registerMediator(new HelloMediator);this.facade.registerMediator(new GameMediator);this.facade.registerMediator(new GameOverMediator);this.facade.registerMediator(new DrawMediator);this.facade.registerMediator(new BookMediator)}},{NAME:"PrepViewCommand"})},{"./../../view/mediator/BookMediator.js":23,"./../../view/mediator/DirectorMediator.js":24,"./../../view/mediator/DrawMediator.js":25,"./../../view/mediator/GameMediator.js":26,"./../../view/mediator/GameOverMediator.js":27,"./../../view/mediator/HelloMediator.js":28,"./../../view/mediator/MenuMediator.js":29,"./../../view/mediator/SceneMediator.js":30,puremvc:36}],7:[function(require,module,exports){"use strict";var puremvc=require("puremvc").puremvc;var PrepModelCommand=require("./PrepModelCommand.js");var PrepViewCommand=require("./PrepViewCommand.js");var PrepControllerCommand=require("./PrepControllerCommand.js");var InjectFSMCommand=require("./InjectFSMCommand.js");module.exports=puremvc.define({name:"controller.command.StartupCommand",parent:puremvc.MacroCommand},{initializeMacroCommand:function(notification){this.addSubCommand(PrepModelCommand);this.addSubCommand(PrepViewCommand);this.addSubCommand(PrepControllerCommand);this.addSubCommand(InjectFSMCommand)}},{NAME:"StartupCommand"})},{"./InjectFSMCommand.js":3,"./PrepControllerCommand.js":4,"./PrepModelCommand.js":5,"./PrepViewCommand.js":6,puremvc:36}],8:[function(require,module,exports){"use strict";var GeneJS=require("GeneJS");var Rectangle=GeneJS.Class({"public _width":null,"private _height":null,"public __construct":function(width,height){this._width=width;this._height=height},"public getWidth":function(){return this._width},"public setWidth":function(width){this._width=width},"public getHeight":function(){return this._height},"public setHeight":function(height){this._height=height},"public getArea":function(){return this._width*this._height},"public static getAreaStatic":function(width,height){return width*height}});exports.Rectangle=Rectangle},{GeneJS:35}],9:[function(require,module,exports){"use strict";var puremvc=require("puremvc").puremvc;module.exports=puremvc.define({name:"model.proxy.AppConfigProxy",parent:puremvc.Proxy,constructor:function(){puremvc.Proxy.call(this)}},{_config:null,onRegister:function(){this.loadData()},loadData:function(){var self=this;var xmlhttp=new XMLHttpRequest;var url="js/app.config";xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4&&xmlhttp.status==200){self._config=JSON.parse(xmlhttp.responseText);self.sendNotification("WriteAppConfig")}};xmlhttp.open("GET",url,true);xmlhttp.send()},getAppName:function(){return this._config.AppName},getAppVersion:function(){return this._config.AppVersion},getAppDescription:function(){return this._config.AppDescription}},{NAME:"AppConfigProxy"})},{puremvc:36}],10:[function(require,module,exports){"use strict";var puremvc=require("puremvc").puremvc;module.exports=puremvc.define({name:"model.proxy.BookProxy",parent:puremvc.Proxy,constructor:function(){puremvc.Proxy.call(this)}},{_books:null,_bookIndex:0,onRegister:function(){this.loadData();this._bookIndex=0},loadData:function(){var self=this;var xmlhttp=new XMLHttpRequest;var url="data/book.json";xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4&&xmlhttp.status==200){self._books=JSON.parse(xmlhttp.responseText).books}};xmlhttp.open("GET",url,true);xmlhttp.send()},getBook:function(){var book=this._books[this._bookIndex];if(this._bookIndex<this._books.length){this._bookIndex++}else{this._bookIndex=0}return book},setBookIndex:function(index){this._bookIndex=index}},{NAME:"BookProxy"})},{puremvc:36}],11:[function(require,module,exports){"use strict";var puremvc=require("puremvc").puremvc;var SceneAction=require("./../../profile/flow/SceneAction.js").SceneAction;module.exports=puremvc.define({name:"model.proxy.GameProxy",parent:puremvc.Proxy,constructor:function(){puremvc.Proxy.call(this)}},{_life:0,onRegister:function(){this._life=10},getLife:function(life){return this._life},setLife:function(life){this._life=life},incLife:function(cb){this._life++},decLife:function(cb){this._life--;if(this._life<=0){this.sendNotification(puremvc.statemachine.StateMachine.ACTION,null,SceneAction.$("GAME_OVER_ACTION"))}else{if(cb){cb(this._life)}}}},{NAME:"GameProxy"})},{"./../../profile/flow/SceneAction.js":13,puremvc:36}],12:[function(require,module,exports){"use strict";var puremvc=require("puremvc").puremvc;var Rectangle=require("./../domain/Rectangle.js").Rectangle;module.exports=puremvc.define({name:"model.proxy.RectangleProxy",parent:puremvc.Proxy,constructor:function(config){puremvc.Proxy.call(this)}},{_rectangle:null,onRegister:function(){this._rectangle=new Rectangle(40,30)},getWidth:function(){return this._rectangle.getWidth()},setWidth:function(width){this._rectangle.setWidth(width)},getHeight:function(){return this._rectangle.getHeight()},setHeight:function(height){this._rectangle.setHeight(height)},getArea:function(){return this._rectangle.getArea()}},{NAME:"RectangleProxy"})},{"./../domain/Rectangle.js":8,puremvc:36}],13:[function(require,module,exports){var GeneJS=require("GeneJS");var SceneAction=GeneJS.Class({"public const HOME_ACTION":"HomeAction","public const MENU_ACTION":"MenuAction","public const HELLO_ACTION":"HelloAction","public const GAME_ACTION":"GameAction","public const GAME_OVER_ACTION":"GameOverAction","public const DRAW_ACTION":"DrawAction","public const BOOK_ACTION":"BookAction"});exports.SceneAction=SceneAction},{GeneJS:35}],14:[function(require,module,exports){var GeneJS=require("GeneJS");var SceneState=require("./SceneState.js").SceneState;var SceneAction=require("./SceneAction.js").SceneAction;var SceneTransition=require("./SceneTransition.js").SceneTransition;var SceneFsm=GeneJS.Class({"public createFsm":function(){var fsm={"@initial":SceneState.$("MENU_MEDIATOR"),state:[{"@name":SceneState.$("MENU_MEDIATOR"),transition:[{"@action":SceneAction.$("HELLO_ACTION"),"@target":SceneState.$("HELLO_MEDIATOR")},{"@action":SceneAction.$("GAME_ACTION"),"@target":SceneState.$("GAME_MEDIATOR")},{"@action":SceneAction.$("DRAW_ACTION"),"@target":SceneState.$("DRAW_MEDIATOR")},{"@action":SceneAction.$("BOOK_ACTION"),"@target":SceneState.$("BOOK_MEDIATOR")}]},{"@name":SceneState.$("HELLO_MEDIATOR"),transition:[{"@action":SceneAction.$("HOME_ACTION"),"@target":SceneState.$("MENU_MEDIATOR")}]},{"@name":SceneState.$("GAME_MEDIATOR"),transition:[{"@action":SceneAction.$("GAME_OVER_ACTION"),"@target":SceneState.$("GAME_OVER_MEDIATOR")}]},{"@name":SceneState.$("GAME_OVER_MEDIATOR"),transition:[{"@action":SceneAction.$("HOME_ACTION"),"@target":SceneState.$("MENU_MEDIATOR")}]},{"@name":SceneState.$("DRAW_MEDIATOR"),transition:[{"@action":SceneAction.$("HOME_ACTION"),"@target":SceneState.$("MENU_MEDIATOR")}]},{"@name":SceneState.$("BOOK_MEDIATOR"),transition:[{"@action":SceneAction.$("HOME_ACTION"),"@target":SceneState.$("MENU_MEDIATOR")}]}]};return fsm}});exports.SceneFsm=SceneFsm},{"./SceneAction.js":13,"./SceneState.js":15,"./SceneTransition.js":16,GeneJS:35}],15:[function(require,module,exports){var GeneJS=require("GeneJS");var SceneState=GeneJS.Class({"public const MENU_MEDIATOR":"MenuMediator","public const HELLO_MEDIATOR":"HelloMediator","public const GAME_MEDIATOR":"GameMediator","public const GAME_OVER_MEDIATOR":"GameOverMediator","public const DRAW_MEDIATOR":"DrawMediator","public const BOOK_MEDIATOR":"BookMediator"});exports.SceneState=SceneState},{GeneJS:35}],16:[function(require,module,exports){var GeneJS=require("GeneJS");var SceneTransition=GeneJS.Class({});exports.SceneTransition=SceneTransition},{GeneJS:35}],17:[function(require,module,exports){"use strict";var res=require("./../ui/Resource.js").res;var BookLayer=cc.Layer.extend({winSize:cc.Size(400,300),onClose:null,book:null,ctor:function(space){this._super()},init:function(){this._super();var closeItem=new cc.MenuItemImage(res.CloseNormal_png,res.CloseSelected_png,this.handleClose,this);closeItem.attr({x:this.winSize.width-20,y:20,anchorX:.5,anchorY:.5});var menu=new cc.Menu(closeItem);menu.x=0;menu.y=0;this.addChild(menu,1);var helloLabel=new cc.LabelTTF("Book","Arial",38);helloLabel.x=this.winSize.width/2;helloLabel.y=this.winSize.height-50;this.addChild(helloLabel,1);this.showBook(this.book);return true},handleClose:function(sender){if(this.onClose){this.onClose()}},showBook:function(book){var label=new cc.LabelTTF(book.title,"Arial",38);label.x=this.winSize.width/2;label.y=this.winSize.height/2+50;this.addChild(label,1);label=new cc.LabelTTF(book.author,"Arial",38);label.x=this.winSize.width/2;label.y=this.winSize.height/2;this.addChild(label,1);label=new cc.LabelTTF(book.publisher,"Arial",38);label.x=this.winSize.width/2;label.y=this.winSize.height/2-50;this.addChild(label,1)}});exports.BookLayer=BookLayer},{"./../ui/Resource.js":31}],18:[function(require,module,exports){"use strict";var res=require("./../ui/Resource.js").res;var DrawLayer=cc.Layer.extend({winSize:cc.Size(400,300),onClose:null,rectangleWidth:0,rectangleHeight:0,rectangleArea:0,ctor:function(space){this._super()},init:function(){this._super();var closeItem=new cc.MenuItemImage(res.CloseNormal_png,res.CloseSelected_png,this.handleClose,this);closeItem.attr({x:this.winSize.width-20,y:20,anchorX:.5,anchorY:.5});var menu=new cc.Menu(closeItem);menu.x=0;menu.y=0;this.addChild(menu,1);var helloLabel=new cc.LabelTTF("Draw","Arial",38);helloLabel.x=this.winSize.width/2;helloLabel.y=this.winSize.height-50;this.addChild(helloLabel,5);this.drawRectangle(this.rectangleWidth,this.rectangleHeight);var areaLabel=new cc.LabelTTF(this.rectangleArea,"Arial",38);areaLabel.x=this.winSize.width-100;areaLabel.y=100;this.addChild(areaLabel,9);return true},drawRectangle:function(width,height){var draw=new cc.DrawNode;this.addChild(draw,10);draw.drawRect(cc.p(50,50),cc.p(50+width,50+height),null,2,cc.color(255,0,255,255))},handleClose:function(sender){if(this.onClose){this.onClose()}}});exports.DrawLayer=DrawLayer},{"./../ui/Resource.js":31}],19:[function(require,module,exports){"use strict";var res=require("./../ui/Resource.js").res;var GameLayer=cc.Layer.extend({winSize:cc.Size(400,300),onKill:null,life:0,_lifeLabel:null,ctor:function(space){this._super()},init:function(){this._super();this._lifeLabel=new cc.LabelTTF;this._lifeLabel.fontName="Arial";this._lifeLabel.fontSize=60;this._lifeLabel.x=this.winSize.width/2;this._lifeLabel.y=this.winSize.height/2;this.addChild(this._lifeLabel,5);this.showLife(this.life);var button=new ccui.Button;button.setTitleText("KILL");button.setTouchEnabled(true);button.loadTextures("res/animationbuttonnormal.png","res/animationbuttonpressed.png","");button.x=this.winSize.width/2;button.y=this.winSize.height/2-50;button.addTouchEventListener(this.handleKill,this);this.addChild(button);return true},showLife:function(life){this._lifeLabel.setString("LIFE:"+life)},handleKill:function(sender){if(this.onKill){this.onKill()}}});exports.GameLayer=GameLayer},{"./../ui/Resource.js":31}],20:[function(require,module,exports){"use strict";var res=require("./../ui/Resource.js").res;var GameOverLayer=cc.Layer.extend({winSize:cc.Size(400,300),onClose:null,ctor:function(space){this._super()},init:function(){this._super();var closeItem=new cc.MenuItemImage(res.CloseNormal_png,res.CloseSelected_png,this.handleClose,this);closeItem.attr({x:this.winSize.width-20,y:20,anchorX:.5,anchorY:.5});var menu=new cc.Menu(closeItem);menu.x=0;menu.y=0;this.addChild(menu,1);var helloLabel=new cc.LabelTTF("Game Over","Arial",80);helloLabel.x=this.winSize.width/2;helloLabel.y=this.winSize.height/2;this.addChild(helloLabel,5);return true},handleClose:function(sender){if(this.onClose){this.onClose()}}});exports.GameOverLayer=GameOverLayer},{"./../ui/Resource.js":31}],21:[function(require,module,exports){"use strict";var res=require("./../ui/Resource.js").res;var HelloLayer=cc.Layer.extend({winSize:cc.Size(400,300),onClose:null,ctor:function(space){this._super()},init:function(){this._super();var closeItem=new cc.MenuItemImage(res.CloseNormal_png,res.CloseSelected_png,this.handleClose,this);closeItem.attr({x:this.winSize.width-20,y:20,anchorX:.5,anchorY:.5});var menu=new cc.Menu(closeItem);menu.x=0;menu.y=0;this.addChild(menu,1);var helloLabel=new cc.LabelTTF("Hello World","Arial",38);helloLabel.x=this.winSize.width/2;helloLabel.y=0;this.addChild(helloLabel,5);this.sprite=new cc.Sprite(res.HelloWorld_png);this.sprite.attr({x:this.winSize.width/2,y:this.winSize.height/2,scale:.5,rotation:180});this.addChild(this.sprite,0);this.sprite.runAction(cc.sequence(cc.rotateTo(2,0),cc.scaleTo(2,1,1)));helloLabel.runAction(cc.spawn(cc.moveBy(2.5,cc.p(0,this.winSize.height-40)),cc.tintTo(2.5,255,125,0)));return true},handleClose:function(sender){if(this.onClose){this.onClose()}}});exports.HelloLayer=HelloLayer},{"./../ui/Resource.js":31}],22:[function(require,module,exports){"use strict";var res=require("./../ui/Resource.js").res;var MenuLayer=cc.Layer.extend({winSize:cc.Size(400,300),onHello:null,onGame:null,onDraw:null,onBook:null,ctor:function(space){this._super()},init:function(){this._super();var menuItem1=new cc.MenuItemFont("Hello",this.handleHello,this);menuItem1.setPosition(new cc.Point(this.winSize.width/2,this.winSize.height/2+100));var menuItem2=new cc.MenuItemFont("Game",this.handleGame,this);menuItem2.setPosition(new cc.Point(this.winSize.width/2,this.winSize.height/2+50));var menuItem3=new cc.MenuItemFont("Draw",this.handleDraw,this);menuItem3.setPosition(new cc.Point(this.winSize.width/2,this.winSize.height/2));var menuItem4=new cc.MenuItemFont("Book",this.handleBook,this);menuItem4.setPosition(new cc.Point(this.winSize.width/2,this.winSize.height/2-50));var menu=new cc.Menu(menuItem1,menuItem2,menuItem3,menuItem4);menu.setPosition(new cc.Point(0,0));this.addChild(menu);return true},handleHello:function(sender){if(this.onHello){this.onHello()}},handleGame:function(sender){if(this.onGame){this.onGame()}},handleDraw:function(sender){if(this.onDraw){this.onDraw()}},handleBook:function(sender){if(this.onBook){this.onBook()}}});exports.MenuLayer=MenuLayer},{"./../ui/Resource.js":31}],23:[function(require,module,exports){"use strict";var puremvc=require("puremvc").puremvc;var BookLayer=require("./../component/BookLayer.js").BookLayer;var SceneAction=require("./../../profile/flow/SceneAction.js").SceneAction;var BookProxy=require("./../../model/proxy/BookProxy.js");module.exports=puremvc.define({name:"view.mediator.BookMediator",parent:puremvc.Mediator,constructor:function(){puremvc.Mediator.call(this,this.constructor.NAME)}},{_bookProxy:null,listNotificationInterests:function(){return[]},handleNotification:function(note){},onRegister:function(){this._bookProxy=this.facade.retrieveProxy(BookProxy.NAME)},onRemove:function(){},init:function(){var self=this;self.viewComponent=new BookLayer;self.viewComponent.winSize=cc.director.getWinSize();self.viewComponent.onClose=function(){self.sendNotification(puremvc.statemachine.StateMachine.ACTION,null,SceneAction.$("HOME_ACTION"))};self.viewComponent.book=this._bookProxy.getBook();self.viewComponent.init()},destroy:function(){this.viewComponent=null},getResource:function(){return null}},{NAME:"BookMediator"})},{"./../../model/proxy/BookProxy.js":10,"./../../profile/flow/SceneAction.js":13,"./../component/BookLayer.js":17,puremvc:36}],24:[function(require,module,exports){"use strict";var puremvc=require("puremvc").puremvc;var SceneMediator=require("./SceneMediator.js");module.exports=puremvc.define({name:"view.mediator.DirectorMediator",parent:puremvc.Mediator,constructor:function(){puremvc.Mediator.call(this,this.constructor.NAME)}},{listNotificationInterests:function(){return["SCENE_CHANGED"]},handleNotification:function(notification){switch(notification.getName()){case"SCENE_CHANGED":var sceneMediator=this.facade.retrieveMediator(SceneMediator.NAME);if(sceneMediator&&sceneMediator.getViewComponent()){cc.director.runScene(new cc.TransitionFade(1.2,sceneMediator.getViewComponent()))}break}},onRegister:function(){},onRemove:function(){}},{NAME:"DirectorMediator"})},{"./SceneMediator.js":30,puremvc:36}],25:[function(require,module,exports){"use strict";var puremvc=require("puremvc").puremvc;var DrawLayer=require("./../component/DrawLayer.js").DrawLayer;var SceneAction=require("./../../profile/flow/SceneAction.js").SceneAction;var RectangleProxy=require("./../../model/proxy/RectangleProxy.js");module.exports=puremvc.define({name:"view.mediator.DrawMediator",parent:puremvc.Mediator,constructor:function(){puremvc.Mediator.call(this,this.constructor.NAME)}},{_rectangleProxy:null,listNotificationInterests:function(){return[]},handleNotification:function(note){},onRegister:function(){this._rectangleProxy=this.facade.retrieveProxy(RectangleProxy.NAME)},onRemove:function(){},init:function(){var self=this;self.viewComponent=new DrawLayer;self.viewComponent.winSize=cc.director.getWinSize();self.viewComponent.onClose=function(){self.sendNotification(puremvc.statemachine.StateMachine.ACTION,null,SceneAction.$("HOME_ACTION"))};self.viewComponent.rectangleWidth=this._rectangleProxy.getWidth();self.viewComponent.rectangleHeight=this._rectangleProxy.getHeight();self.viewComponent.rectangleArea=this._rectangleProxy.getArea();self._rectangleProxy.setWidth(self._rectangleProxy.getWidth()+10);self._rectangleProxy.setHeight(self._rectangleProxy.getHeight()+10);self.viewComponent.init()},destroy:function(){this.viewComponent=null},getResource:function(){return null}},{NAME:"DrawMediator"})},{"./../../model/proxy/RectangleProxy.js":12,"./../../profile/flow/SceneAction.js":13,"./../component/DrawLayer.js":18,puremvc:36}],26:[function(require,module,exports){"use strict";var puremvc=require("puremvc").puremvc;var GameLayer=require("./../component/GameLayer.js").GameLayer;var SceneAction=require("./../../profile/flow/SceneAction.js").SceneAction;var GameProxy=require("./../../model/proxy/GameProxy.js");module.exports=puremvc.define({name:"view.mediator.GameMediator",parent:puremvc.Mediator,constructor:function(){puremvc.Mediator.call(this,this.constructor.NAME)}},{_gameProxy:null,listNotificationInterests:function(){return[]},handleNotification:function(note){},onRegister:function(){this._gameProxy=this.facade.retrieveProxy(GameProxy.NAME)},onRemove:function(){},init:function(){var self=this;self.viewComponent=new GameLayer;self.viewComponent.winSize=cc.director.getWinSize();self.viewComponent.life=self._gameProxy.getLife();self.viewComponent.onKill=function(){var showLife=function(life){self.viewComponent.showLife(life)};self._gameProxy.decLife(showLife)};self.viewComponent.init()},destroy:function(){this.viewComponent=null},getResource:function(){return null}},{NAME:"GameMediator"})},{"./../../model/proxy/GameProxy.js":11,"./../../profile/flow/SceneAction.js":13,"./../component/GameLayer.js":19,puremvc:36}],27:[function(require,module,exports){"use strict";var puremvc=require("puremvc").puremvc;var GameOverLayer=require("./../component/GameOverLayer.js").GameOverLayer;var SceneAction=require("./../../profile/flow/SceneAction.js").SceneAction;module.exports=puremvc.define({name:"view.mediator.GameOverMediator",parent:puremvc.Mediator,constructor:function(){puremvc.Mediator.call(this,this.constructor.NAME)}},{listNotificationInterests:function(){return[]},handleNotification:function(note){},onRegister:function(){},onRemove:function(){},init:function(){var self=this;self.viewComponent=new GameOverLayer;self.viewComponent.winSize=cc.director.getWinSize();self.viewComponent.onClose=function(){self.sendNotification(puremvc.statemachine.StateMachine.ACTION,null,SceneAction.$("HOME_ACTION"))};self.viewComponent.init()},getResource:function(){return null}},{NAME:"GameOverMediator"})},{"./../../profile/flow/SceneAction.js":13,"./../component/GameOverLayer.js":20,puremvc:36}],28:[function(require,module,exports){"use strict";var puremvc=require("puremvc").puremvc;var HelloLayer=require("./../component/HelloLayer.js").HelloLayer;var SceneAction=require("./../../profile/flow/SceneAction.js").SceneAction;module.exports=puremvc.define({name:"view.mediator.HelloMediator",parent:puremvc.Mediator,constructor:function(){puremvc.Mediator.call(this,this.constructor.NAME)}},{listNotificationInterests:function(){return[]},handleNotification:function(note){},onRegister:function(){},onRemove:function(){},init:function(){var self=this;self.viewComponent=new HelloLayer;self.viewComponent.winSize=cc.director.getWinSize();self.viewComponent.onClose=function(){self.sendNotification(puremvc.statemachine.StateMachine.ACTION,null,SceneAction.$("HOME_ACTION"))};self.viewComponent.init()},destroy:function(){this.viewComponent=null},getResource:function(){return null}},{NAME:"HelloMediator"})},{"./../../profile/flow/SceneAction.js":13,"./../component/HelloLayer.js":21,puremvc:36}],29:[function(require,module,exports){"use strict";var puremvc=require("puremvc").puremvc;var MenuLayer=require("./../component/MenuLayer.js").MenuLayer;var SceneAction=require("./../../profile/flow/SceneAction.js").SceneAction;module.exports=puremvc.define({name:"view.mediator.MenuMediator",parent:puremvc.Mediator,constructor:function(){puremvc.Mediator.call(this,this.constructor.NAME)}},{listNotificationInterests:function(){return[]},handleNotification:function(note){},onRegister:function(){},onRemove:function(){},init:function(){var self=this;self.viewComponent=new MenuLayer;self.viewComponent.winSize=cc.director.getWinSize();self.viewComponent.onHello=function(){self.sendNotification(puremvc.statemachine.StateMachine.ACTION,null,SceneAction.$("HELLO_ACTION"))};self.viewComponent.onGame=function(){self.sendNotification(puremvc.statemachine.StateMachine.ACTION,null,SceneAction.$("GAME_ACTION"))};self.viewComponent.onDraw=function(){self.sendNotification(puremvc.statemachine.StateMachine.ACTION,null,SceneAction.$("DRAW_ACTION"))};self.viewComponent.onBook=function(){self.sendNotification(puremvc.statemachine.StateMachine.ACTION,null,SceneAction.$("BOOK_ACTION"))};self.viewComponent.init()},getResource:function(){var g_resources=require("./../ui/Resource.js").g_resources;return g_resources}},{NAME:"MenuMediator"})},{"./../../profile/flow/SceneAction.js":13,"./../component/MenuLayer.js":22,"./../ui/Resource.js":31,puremvc:36}],30:[function(require,module,exports){"use strict";var puremvc=require("puremvc").puremvc;var GeneCocosJS=require("GeneCocosJS");module.exports=puremvc.define({name:"view.mediator.SceneMediator",parent:puremvc.Mediator,constructor:function(){puremvc.Mediator.call(this,this.constructor.NAME)}},{_initialized:false,loaderImage:"data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAlAAD/4QMpaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjAtYzA2MCA2MS4xMzQ3NzcsIDIwMTAvMDIvMTItMTc6MzI6MDAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjM4MDBEMDY2QTU1MjExRTFBQTAzQjEzMUNFNzMxRkQwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM4MDBEMDY1QTU1MjExRTFBQTAzQjEzMUNFNzMxRkQwIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzUgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU2RTk0OEM4OERCNDExRTE5NEUyRkE3M0M3QkE1NTlEIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU2RTk0OEM5OERCNDExRTE5NEUyRkE3M0M3QkE1NTlEIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQADQkJCQoJDQoKDRMMCwwTFhENDREW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",loaderText:"正在载入... ",loaderFont:"Arial",listNotificationInterests:function(){return[puremvc.statemachine.StateMachine.CHANGED]
},handleNotification:function(notification){switch(notification.getName()){case puremvc.statemachine.StateMachine.CHANGED:cc.log(notification.getBody().name);var viewMediator=this.facade.retrieveMediator(notification.getBody().name);if(viewMediator){this.setView(viewMediator)}if(!this._initialized){this._initialized=true}break}},onRegister:function(){},onRemove:function(){},setView:function(viewMediator){var self=this;self.viewComponent=new cc.Scene;viewMediator.init();var child=viewMediator.getViewComponent();if(child){self.viewComponent.addChild(child)}var res=viewMediator.getResource();var handleSceneChanged=function(){self.sendNotification("SCENE_CHANGED")};if(res){GeneCocosJS.LoaderScene.preload(res,handleSceneChanged,this)}else{handleSceneChanged()}}},{NAME:"SceneMediator",SCENE_CHANGE_VIEW:"SceneChangeView"})},{GeneCocosJS:33,puremvc:36}],31:[function(require,module,exports){var res={HelloWorld_png:"res/HelloWorld.png",CloseNormal_png:"res/CloseNormal.png",CloseSelected_png:"res/CloseSelected.png"};var g_resources=[];for(var i in res){g_resources.push(res[i])}exports.res=res;exports.g_resources=g_resources},{}],32:[function(require,module,exports){var LoaderScene=cc.Scene.extend({_image:null,_text:"Loading... ",_font:"Arial",_label:null,_className:"GeneJS.Cocos.LoaderScene",init:function(image,text,font){var self=this;if(image){self._image=image}if(text){self._text=text}if(font){self._font=font}var logoWidth=160;var logoHeight=200;var bgLayer=self._bgLayer=new cc.LayerColor(cc.color(32,32,32,255));bgLayer.setPosition(cc.visibleRect.bottomLeft);self.addChild(bgLayer,0);var fontSize=24,lblHeight=-logoHeight/2+100;if(self._image){cc.loader.loadImg(self._image,{isCrossOrigin:false},function(err,img){logoWidth=img.width;logoHeight=img.height;self._initStage(img,cc.visibleRect.center)});fontSize=14;lblHeight=-logoHeight/2-10}var label=self._label=new cc.LabelTTF(self._text+"0%",self._font,fontSize);label.setPosition(cc.pAdd(cc.visibleRect.center,cc.p(0,lblHeight)));label.setColor(cc.color(180,180,180));bgLayer.addChild(this._label,10);return true},_initStage:function(img,centerPos){var self=this;var texture2d=self._texture2d=new cc.Texture2D;texture2d.initWithElement(img);texture2d.handleLoadedTexture();var logo=self._logo=new cc.Sprite(texture2d);logo.setScale(cc.contentScaleFactor());logo.x=centerPos.x;logo.y=centerPos.y;self._bgLayer.addChild(logo,10)},onEnter:function(){var self=this;cc.Node.prototype.onEnter.call(self);self.schedule(self._startLoading,.3)},onExit:function(){cc.Node.prototype.onExit.call(this);var tmpStr=self._text+"0%";this._label.setString(tmpStr)},initWithResources:function(resources,cb){if(cc.isString(resources))resources=[resources];this.resources=resources||[];this.cb=cb},_startLoading:function(){var self=this;self.unschedule(self._startLoading);var res=self.resources;cc.loader.load(res,function(result,count,loadedCount){var percent=loadedCount/count*100|0;percent=Math.min(percent,100);self._label.setString(self._text+percent+"%")},function(){if(self.cb)self.cb()})}});LoaderScene.setImage=function(image){};LoaderScene.preload=function(resources,cb,sender){if(!this.loaderScene){this.loaderScene=new LoaderScene;this.loaderScene.init(sender.loaderImage,sender.loaderText,sender.loaderFont)}this.loaderScene.initWithResources(resources,cb);cc.director.runScene(this.loaderScene);return this.loaderScene};module.exports=LoaderScene},{}],33:[function(require,module,exports){var GeneCocosJS={LoaderScene:require("./class/LoaderScene.js")};module.exports=GeneCocosJS},{"./class/LoaderScene.js":32}],34:[function(require,module,exports){var easejs={};(function(B,n){var j={},h=function(b){var b=("/"===b.substr(0,1)?b:n+"/"+b).replace(/([^\/]+\/\.\.\/|\.\/|^\/)/g,""),c=j[b];if(void 0===c)throw"[ease.js] Undefined module: "+b;return c.exports};(function(b){function c(){if(!(this instanceof c))return new c;this.___$$id$$=e+f(1e8*a())}b.exports={};n="util/symbol";var a=Math.random,f=Math.floor,e=" "+String.fromCharCode(f(10*a())%31+1)+"$";c.prototype={toString:function(){return this.___$$id$$}};b.exports=c})(j["util/symbol/FallbackSymbol"]={},".");(function(b){function c(){if(!(this instanceof c))return new c;this._alt={}}b.exports={};n="util";(0,eval)("var _the_global=this");c.expose=function(){return _the_global};c.prototype={provideAlt:function(a,c){if(!(void 0!==_the_global[a]||void 0!==this._alt[a]))return this._alt[a]=c(),this},get:function(a){return void 0!==this._alt[a]?this._alt[a]:_the_global[a]}};b.exports=c})(j["util/Global"]={},".");(function(b){b.exports={};n="util";var c=h("./symbol/FallbackSymbol"),a=h("./Global").expose();b.exports=a.Symbol||c})(j["util/Symbol"]={},".");(function(b){b=b.exports={};n=".";var c={"public":1,"protected":2,"private":4,"static":8,"abstract":16,"const":32,virtual:64,override:128,proxy:256,weak:512},a={amods:c["public"]|c["protected"]|c["private"],virtual:c["abstract"]|c.virtual};b.kvals=c;b.kmasks=a;b.parseKeywords=function(b){var e=b,d=[],g=0,i={};if(1!==(d=(""+b).split(/\s+/)).length){e=d.pop();for(b=d.length;b--;){var C=d[b],r=c[C];if(!r)throw Error("Unexpected keyword for '"+e+"': "+C);i[C]=!0;g|=r}}e.match(/^_[^_]/)&&!(g&a.amods)&&(i["private"]=!0,g|=c["private"]);return{name:e,keywords:i,bitwords:g}}})(j.prop_parser={},".");(function(b){function c(a){throw a}function a(a,c,b){for(var e=b.length;e--;)null===b[e].match(/^[a-z_][a-z0-9_]*$/i)&&a(SyntaxError("Member "+c+" contains invalid parameter '"+b[e]+"'"))}function f(){return g?function(a,c,b){Object.defineProperty(a,c,{value:b,enumerable:!1,writable:!1,configurable:!1})}:function(a,c,b){a[c]=b}}var e=b.exports={};n=".";var d=h("./prop_parser").parseKeywords,g;a:{if("function"===typeof Object.defineProperty)try{Object.defineProperty({},"x",{});g=!0;break a}catch(i){}g=!1}e.Global=h("./util/Global");e.freeze="function"===typeof Object.freeze?Object.freeze:function(){};e.definePropertyFallback=function(a){if(void 0===a)return!g;g=!a;e.defineSecureProp=f();return e};e.defineSecureProp=f();e.clone=function r(a,c){c=!!c;if(a instanceof Array){if(!c)return a.slice(0);for(var b=[],e=0,d=a.length;e<d;e++)b.push(r(a[e],c));return b}if("function"!==typeof a&&a instanceof Object){b={};e=Object.prototype.hasOwnProperty;for(d in a)e.call(a,d)&&(b[d]=c?r(a[d]):a[d]);return b}return a};e.copyTo=function(a,c,b){var b=!!b,d;if(!(a instanceof Object)||!(c instanceof Object))throw TypeError("Must provide both source and destination objects");if(g)for(var f in c)d=Object.getOwnPropertyDescriptor(c,f),d.get||d.set?Object.defineProperty(a,f,d):a[f]=b?e.clone(c[f],!0):c[f];else for(f in c)a[f]=b?e.clone(c[f],!0):c[f];return a};e.propParse=function(b,f,p){var v=function(){},i=f.each||void 0,h=f.property||v,m=f.method||v,v=f.getset||v,l=f.keywordParser||d,x=f._throw||c,j=Object.prototype.hasOwnProperty,s={},k="",s={},o=null,t=!1,u=!1,w;for(w in b)if(j.call(b,w)){if(g)k=Object.getOwnPropertyDescriptor(b,w),t=k.get,u=k.set;o="function"===typeof t?void 0:b[w];s=l(w)||{};k=s.name||w;s=s.keywords||{};if(f.assumeAbstract||s["abstract"]&&!s.override)s["abstract"]=!0,o instanceof Array||x(TypeError("Missing parameter list for abstract method: "+k)),a(x,k,o),o=e.createAbstractMethod.apply(this,o);i&&i.call(p,k,o,s);t||u?v.call(p,k,t,u,s):"function"===typeof o||s.proxy?m.call(p,k,o,e.isAbstractMethod(o),s):h.call(p,k,o,s)}};e.createAbstractMethod=function(a){for(var c=[],b=arguments.length;b--;)c[b]=arguments[b];b=function(){throw Error("Cannot call abstract method")};e.defineSecureProp(b,"abstractFlag",!0);e.defineSecureProp(b,"definition",c);e.defineSecureProp(b,"__length",arguments.length);return b};e.isAbstractMethod=function(a){return"function"===typeof a&&!0===a.abstractFlag?!0:!1};e.arrayShrink=function(a){for(var c=[],b=0,e=a.length;b<e;b++){var d=a[b];void 0!==d&&c.push(d)}return c};e.getOwnPropertyDescriptor=g&&Object.getOwnPropertyDescriptor||function(a,c){return!Object.prototype.hasOwnProperty.call(a,c)?void 0:{get:void 0,set:void 0,writable:!0,enumerable:!0,configurable:!0,value:a[c]}};e.getPrototypeOf=Object.getPrototypeOf||function(){};e.getPropertyDescriptor=function(a,c,b){var b=!!b,d=e.getOwnPropertyDescriptor(a,c),a=e.getPrototypeOf(a);return!d&&a&&(!b||e.getPrototypeOf(a))?e.getPropertyDescriptor(a,c,b):d};e.defineSecureProp(e.getPropertyDescriptor,"canTraverse",Object.getPrototypeOf?!0:!1)})(j.util={},".");(function(b){function c(a){if(!(this instanceof c))return new c(a);if(!(a instanceof Error))throw TypeError("Must provide exception to wrap");Error.prototype.constructor.call(this,a.message);this.message=a.message;this.name="Warning";this._error=a;this.stack=a.stack&&a.stack.replace(/^.*?\n+/,this.name+": "+this.message+"\n")}b.exports={};n="warn";c.prototype=Error();c.prototype.constructor=c;c.prototype.name="Warning";c.prototype.getError=function(){return this._error};b.exports=c})(j["warn/Warning"]={},".");(function(b){function c(){if(!(this instanceof c))return new c}b.exports={};n="warn";c.prototype={handle:function(){}};b.exports=c})(j["warn/DismissiveHandler"]={},".");(function(b){function c(a){if(!(this instanceof c))return new c(a);this._console=a||{}}b.exports={};n="warn";c.prototype={handle:function(a){var c=this._console.warn||this._console.log;c&&c.call(this._console,"Warning: "+a.message)}};b.exports=c})(j["warn/LogHandler"]={},".");(function(b){function c(){if(!(this instanceof c))return new c}b.exports={};n="warn";c.prototype={handle:function(a){throw a.getError()}};b.exports=c})(j["warn/ThrowHandler"]={},".");(function(b){b.exports={};n=".";b.exports={Warning:h("./warn/Warning"),DismissiveHandler:h("./warn/DismissiveHandler"),LogHandler:h("./warn/LogHandler"),ThrowHandler:h("./warn/ThrowHandler")}})(j.warn={},".");(function(b){function c(w,a){try{if(a instanceof w)return!0}catch(c){}return!1}function a(w,a,c){a=this.defs;if(!0===o[w])throw Error(w+" is reserved");if(s.call(a,w)&&!c.weak&&!a[w].weak)throw Error("Cannot redefine method '"+w+"' in same declaration");a[w]=c}function f(a,c,b){this._cb._memberBuilder.buildProp(i(b)?this.static_members.props:this.prop_init,null,a,c,b,this.base)}function e(a,c,b,e){var d=i(e)?this.static_members.methods:this.members,k=i(e)?this.staticInstLookup:m.getMethodInstance;this._cb._memberBuilder.buildGetterSetter(d,null,a,c,b,e,k,this.class_id,this.base)}function d(a,c,b,e){var d=i(e),k=d?this.static_members.methods:this.members,d=d?this.staticInstLookup:m.getMethodInstance;if(!0===t[a]&&(e["protected"]||e["private"]))throw TypeError(a+" must be public");this._cb._memberBuilder.buildMethod(k,null,a,c,e,d,this.class_id,this.base,this.state)&&(b?(this.abstract_methods[a]=!0,this.abstract_methods.__length++):s.call(this.abstract_methods,a)&&!1===b&&(delete this.abstract_methods[a],this.abstract_methods.__length--),e.virtual&&(this.virtual_members[a]=!0))}function g(a,c,b,e){if(a.___$$abstract$$){if(!e&&0===b.__length)throw TypeError("Class "+(c||"(anonymous)")+" was declared as abstract, but contains no abstract members")}else if(0<b.__length)if(e)a.___$$abstract$$=!0;else throw TypeError("Class "+(c||"(anonymous)")+" contains abstract members and must therefore be declared abstract")}function i(a){return a["static"]||a["const"]?!0:!1}function C(a,c){var b=c.__cid?m.getMeta(c):void 0;return b?a[u].meta=l.clone(b,!0):a[u].meta={implemented:[]}}function r(a,c){l.defineSecureProp(a,"__iid",c)}function y(a){var c=function(){};c.prototype=a;l.defineSecureProp(a,u,{});a[u].vis=new c}function p(a){var c=function(c){return b.exports.isInstanceOf(c,a)};l.defineSecureProp(a,"isInstanceOf",c);l.defineSecureProp(a,"isA",c)}function v(a,c){var b=0<c.__length?!0:!1;l.defineSecureProp(a,"isAbstract",function(){return b})}function j(a,c){l.defineSecureProp(a,"__cid",c);l.defineSecureProp(a.prototype,"__cid",c)}function A(a,c){a.___$$final$$=!!c.___$$final$$;a.___$$abstract$$=!!c.___$$abstract$$;c.___$$final$$=c.___$$abstract$$=void 0}var m=b.exports={};n=".";var l=h("./util"),x=h("./warn").Warning,q=h("./util/Symbol"),s=Object.prototype.hasOwnProperty,k=!1===Object.prototype.propertyIsEnumerable.call({toString:function(){}},"toString")?!0:!1,o={__initProps:!0,constructor:!0},t={__construct:!0,__mixin:!0,toString:!0,__toString:!0},u=q();b.exports=m=function(a,c,e){if(!(this instanceof m))return new b.exports(a,c,e);this._warnHandler=a;this._memberBuilder=c;this._visFactory=e;this._instanceId=this._classId=0;this._spropInternal=this._extending=!1};m.ClassBase=function(){};l.defineSecureProp(m.ClassBase,"__cid",0);m.ClassBase.$=function(a,c){if(void 0!==c)throw ReferenceError("Cannot set value of undeclared static property '"+a+"'")};m.getReservedMembers=function(){return l.clone(o,!0)};m.getForcedPublicMethods=function(){return l.clone(t,!0)};m.getMeta=function(a){return(a[u]||{}).meta||null};m.isInstanceOf=function(a,b){return!a||!b?!1:!!(a.__isInstanceOf||c)(a,b)};m.prototype.build=function(a,c){var b=this;this._extending=!0;var e=arguments,d=e.length,f=(0<d?e[d-1]:0)||{},t=(1<d?e[d-2]:0)||m.ClassBase,e=this._getBase(t),d="",o=!1,r=this._memberBuilder.initMembers(),p=this._memberBuilder.initMembers(e),i={methods:this._memberBuilder.initMembers(),props:this._memberBuilder.initMembers()},o=m.getMeta(t)||{},y=l.clone(o.abstractMethods)||{__length:0},s=l.clone(o.virtualMembers)||{};if(!0===t.___$$final$$)throw Error("Cannot extend final class "+(t[u].meta.name||"(anonymous)"));(d=f.__name)&&delete f.__name;void 0!==(o=f.___$$auto$abstract$$)&&delete f.___$$auto$abstract$$;if(k&&f.toString!==Object.prototype.toString)f.__toString=f.toString;this._classId++;void 0===(e[u]||{}).vis&&this._discoverProtoProps(e,r);try{this.buildMembers(f,this._classId,t,r,{all:p,"abstract":y,"static":i,virtual:s},function(){return q.___$$svis$$})}catch(h){if(h instanceof x)this._warnHandler.handle(h);else throw h}e.___$$parent$$=t.prototype;var q=this.createCtor(d,y,p);this.initStaticVisibilityObj(q);var n=this,B=function(a,c){n.attachStatic(a,i,t,c)};B(q,!1);this._attachPropInit(e,r,p,q,this._classId);q.prototype=e;q.prototype.constructor=q;q.___$$props$$=r;q.___$$methods$$=p;q.___$$sinit$$=B;A(q,f);g(q,d,y,o);l.defineSecureProp(e,"__self",q.___$$svis$$);o=C(q,t);o.abstractMethods=y;o.virtualMembers=s;o.name=d;v(q,y);j(q,this._classId);q.asPrototype=function(){b._extending=!0;var a=q();b._extending=!1;return a};this._extending=!1;return q};m.prototype._getBase=function(a){switch(typeof a){case"function":return new a;case"object":return a}throw TypeError("Must extend from Class, constructor or object")};m.prototype._discoverProtoProps=function(a,c){var b=Object.hasOwnProperty,e;for(e in a){var d=a[e];b.call(a,e)&&"function"!==typeof d&&this._memberBuilder.buildProp(c,null,e,d,{})}};m.prototype.buildMembers=function(c,b,k,t,u,C){var o={_cb:this,prop_init:t,class_id:b,base:k,staticInstLookup:C,defs:{},state:{},members:u.all,abstract_methods:u["abstract"],static_members:u["static"],virtual_members:u.virtual},g={each:a,property:f,getset:e,method:d};if(c.___$$parser$$){var r=c.___$$parser$$;delete c.___$$parser$$;b=function(a,c){g[a]=function(){for(var b=[],e=arguments.length;e--;)b[e]=arguments[e];b.push(c);r[a].apply(o,b)}};r.each&&b("each",g.each);r.property&&b("property",g.property);r.getset&&b("getset",g.getset);r.method&&b("method",g.method)}l.propParse(c,g,o);this._memberBuilder.end(o.state)};m.prototype.createCtor=function(a,c,b){a=0===c.__length?this.createConcreteCtor(a,b):this.createAbstractCtor(a);l.defineSecureProp(a,u,{});return a};m.prototype.createConcreteCtor=function(a,c){function b(){if(!(this instanceof b))return e=arguments,new b;y(this);this.__initProps();if(!d._extending){r(this,++d._instanceId);var k="function"===typeof this.___$$ctor$pre$$;k&&b.prototype.hasOwnProperty("___$$ctor$pre$$")&&(this.___$$ctor$pre$$(u),k=!1);"function"===typeof this.__construct&&this.__construct.apply(this,e||arguments);k&&this.___$$ctor$pre$$(u);"function"===typeof this.___$$ctor$post$$&&this.___$$ctor$post$$(u);e=null;p(this);if(!s.call(c["public"],"toString"))this.toString=c["public"].__toString||(a?function(){return"#<"+a+">"}:function(){return"#<anonymous>"})}}var e=null,d=this;b.toString=a?function(){return a}:function(){return"(Class)"};return b};m.prototype.createAbstractCtor=function(a){var c=this,b=function(){if(!c._extending)throw Error("Abstract class "+(a||"(anonymous)")+" cannot be instantiated")};b.toString=a?function(){return a}:function(){return"(AbstractClass)"};return b};m.prototype._attachPropInit=function(a,c,b,e,d){var k=this;l.defineSecureProp(a,"__initProps",function(e){var e=!!e,f=a.___$$parent$$,t=this[u].vis,f=f&&f.__initProps;"function"===typeof f&&f.call(this,!0);f=k._visFactory.createPropProxy(this,t,c["public"]);t=t[d]=k._visFactory.setup(f,c,b);e||l.defineSecureProp(t,"__inst",this)})};m.prototype.initStaticVisibilityObj=function(a){var c=this,b=function(){};b.prototype=a;b=new b;a.___$$svis$$=b;b.$=function(){c._spropInternal=!0;var b=a.$.apply(a,arguments);c._spropInternal=!1;return b}};m.prototype.attachStatic=function(a,c,b,e){var d=c.methods,k=c.props,f=this;(c=b.___$$sinit$$)&&c(a,!0);if(!e)a.___$$sprops$$=k,l.defineSecureProp(a,"$",function(c,e){var d=!1,t=this.___$$sprops$$?this:a,u=t!==a,d=s.call(k["public"],c)&&"public";!d&&f._spropInternal&&(d=s.call(k["protected"],c)&&"protected"||!u&&s.call(k["private"],c)&&"private");if(!1===d)return(b.__cid&&b.$||m.ClassBase.$).apply(t,arguments);d=k[d][c];if(1<arguments.length){if(d[1]["const"])throw TypeError("Cannot modify constant property '"+c+"'");d[0]=e;return t}return d[0]});l.copyTo(a,d["public"],!0);l.copyTo(a.___$$svis$$,d["protected"],!0);e||l.copyTo(a.___$$svis$$,d["private"],!0)};m.getMethodInstance=function(a,c){if(void 0===a)return null;var b=a[u],e;return a.__iid&&b&&(e=b.vis)?e[c]:null}})(j.ClassBuilder={},".");(function(b){var c=b.exports={};n=".";b.exports=c=function(a){if(!(this instanceof c))return new b.exports(a);this._factory=a};c.prototype.wrapMethod=function(a,c,b,d,g,i){return this._factory(a,c,b,d,g,i)}})(j.MethodWrapperFactory={},".");(function(b){b=b.exports={};n=".";b.standard={wrapOverride:function(c,a,b,e){var d=function(){var d=e(this,b)||this||{},i=void 0,C=d.__super;d.__super=a;i=c.apply(d,arguments);d.__super=C;return i===d?this:i};d["super"]=a;return d},wrapNew:function(c,a,b,e){return function(){var a=e(this,b)||this,g=void 0,g=c.apply(a,arguments);return g===a?this:g}},wrapProxy:function(c,a,b,e,d,g){var i=g&&g["static"],a=function(){var a=e(this,b)||this,r=void 0,a=i?a.$(c):a[c];if(!(null!==a&&"object"===typeof a&&"function"===typeof a[d]))throw TypeError("Unable to proxy "+d+"() call to '"+c+"'; '"+c+"' is undefined or '"+d+"' is not a function.");r=a[d].apply(a,arguments);return r===a?this:r};a.__length=NaN;return a}}})(j.MethodWrappers={},".");(function(b){function c(a){return function(){return this.___$$super$$.prototype[a].apply(this.___$$pmo$$,arguments)}}function a(a,c,b){if(c["private"])return(c["public"]||c["protected"])&&f(b),a["private"];if(c["protected"])return(c["public"]||c["private"])&&f(b),a["protected"];(c["private"]||c["protected"])&&f(b);return a["public"]}function f(a){throw TypeError("Only one access modifier may be used for definition of '"+a+"'")}function e(a,c,b){for(var d=i.length,f=null;d--;)if(f=g.getPropertyDescriptor(a[i[d]],c,!0))return{get:f.get,set:f.set,member:f.value};return void 0!==b?(a=b.___$$methods$$,d=b.___$$props$$,b=((b.prototype||{}).___$$parent$$||{}).constructor,a&&e(a,c,b)||d&&e(d,c,b)||null):null}var d=b.exports={};n=".";var g=h("./util"),i=["public","protected","private"];b.exports=function(a,c,e,d){if(!(this instanceof b.exports))return new b.exports(a,c,e,d);this._wrapMethod=a;this._wrapOverride=c;this._wrapProxy=e;this._validate=d};d=b.exports.prototype;d.initMembers=function(a,c,b){return{"public":a||{},"protected":c||{},"private":b||{}}};d.buildMethod=function(b,d,f,g,i,h,j,m,l){var x=this._methodKeywordDefaults,x=(d=(m=e(b,f,m))?m.member:null)&&(d.___$$keywords$$||x),b=a(b,i,f);this._validate.validateMethod(f,g,i,m,x,l);if(i.proxy&&(!d||!i.weak))b[f]=this._createProxy(g,h,j,f,i);else if(d){if(i.weak&&!x["abstract"])return!1;if(i.override||x["abstract"])l=i["abstract"]?c(f):d,b[f]=this._overrideMethod(l,g,h,j);else throw Error("Method hiding not yet implemented (we should never get here; bug).")}else b[f]=i["abstract"]||i["private"]?g:this._overrideMethod(null,g,h,j);b[f].___$$keywords$$=i;return!0};d._methodKeywordDefaults={virtual:!0};d.buildProp=function(c,b,d,f,g,i){i=(b=e(c,d,i))?b.member:null;this._validate.validateProperty(d,f,g,b,i?i[1]:null);a(c,g,d)[d]=[f,g]};d.buildGetterSetter=function(c,b,d,f,g,i,h,j,l){b=e(c,d,l);this._validate.validateGetterSetter(d,{},i,b,b&&b.get?b.get.___$$keywords$$:null);if(f)f=this._overrideMethod(null,f,h,j),f.___$$keywords$$=i;Object.defineProperty(a(c,i,d),d,{get:f,set:g?this._overrideMethod(null,g,h,j):g,enumerable:!0,configurable:!1})};d._createProxy=function(a,c,b,d,e){return this._wrapProxy.wrapMethod(a,null,b,c,d,e)};d._overrideMethod=function(a,c,b,d){var e=null,e=(a?this._wrapOverride:this._wrapMethod).wrapMethod(c,a,d,b||function(){});g.defineSecureProp(e,"__length",c.__length||c.length);return e};d._getVisibilityValue=function(a){return a["protected"]?1:a["private"]?2:0};d.end=function(a){this._validate&&this._validate.end(a)}})(j.MemberBuilder={},".");(function(b){var c=b.exports={};n=".";b.exports=c=function(a){if(!(this instanceof b.exports))return new b.exports(a);this._warningHandler=a||function(){}};c.prototype._initState=function(a){if(a.__vready)return a;a.warn={};a.__vready=!0;return a};c.prototype.end=function(a){for(var c in a.warn){var b=a.warn[c],d;for(d in b)this._warningHandler(b[d])}a.__vready=!1};c.prototype.validateMethod=function(a,c,b,d,g,i){this._initState(i);var h=d?d.member:null;if(b["abstract"]&&b["private"])throw TypeError("Method '"+a+"' cannot be both private and abstract");if(b["const"])throw TypeError("Cannot declare method '"+a+"' as constant; keyword is redundant");if(b.virtual&&b["static"])throw TypeError("Cannot declare static method '"+a+"' as virtual");if(d&&(d.get||d.set))throw TypeError("Cannot override getter/setter '"+a+"' with method");if(b.proxy){if("string"!==typeof c)throw TypeError("Cannot declare proxy method '"+a+"'; string value expected");if(b["abstract"])throw TypeError("Proxy method '"+a+"' cannot be abstract")}if(h){if(g["private"])throw TypeError("Private member name '"+a+"' conflicts with supertype");if("function"!==typeof h)throw TypeError("Cannot override property '"+a+"' with method");if(b.override&&!g.virtual){if(!b["abstract"])throw TypeError("Cannot override non-virtual method '"+a+"'");if(!g["abstract"])throw TypeError("Cannot perform abstract override on non-abstract method '"+a+"'")}if(b["abstract"]&&!b.weak&&!g["abstract"])throw TypeError("Cannot override concrete method '"+a+"' with abstract method");d=void 0===h.__length?h.length:h.__length;c=void 0===c.__length?c.length:c.__length;b.proxy&&(c=NaN);b.weak&&!g["abstract"]&&(h=d,d=c,c=h);if(c<d)throw TypeError("Declaration of method '"+a+"' must be compatible with that of its supertype");if(this._getVisibilityValue(g)<this._getVisibilityValue(b))throw TypeError("Cannot de-escalate visibility of method '"+a+"'");if(!b.override&&!g["abstract"]&&!b.weak)throw TypeError("Attempting to override method '"+a+"' without 'override' keyword");b.weak&&g.override&&delete(i.warn[a]||{}).no}else if(b.override)(i.warn[a]=i.warn[a]||{}).no=Error("Method '"+a+"' using 'override' keyword without super method")};c.prototype.validateProperty=function(a,c,b,d,g){if(c=d?d.member:null){if(g["private"])throw TypeError("Private member name '"+a+"' conflicts with supertype");if("function"===typeof c)throw new TypeError("Cannot override method '"+a+"' with property");if(this._getVisibilityValue(g)<this._getVisibilityValue(b))throw TypeError("Cannot de-escalate visibility of property '"+a+"'")}if(d&&(d.get||d.set))throw TypeError("Cannot override getter/setter '"+a+"' with property");if(b["abstract"])throw TypeError("Property '"+a+"' cannot be declared as abstract");if(b["static"]&&b["const"])throw TypeError("Static keyword cannot be used with const for property '"+a+"'");if(b.virtual)throw TypeError("Cannot declare property '"+a+"' as virtual")};c.prototype.validateGetterSetter=function(a,c,b,d,g){c=d?d.member:null;d=d&&(d.get||d.set)?!0:!1;if(b["abstract"])throw TypeError("Cannot declare getter/setter '"+a+"' as abstract");if(b["const"])throw TypeError("Cannot declare const getter/setter '"+a+"'");if(b.virtual&&b["static"])throw TypeError("Cannot declare static method '"+a+"' as virtual");if(c||d){if(g&&g["private"])throw TypeError("Private member name '"+a+"' conflicts with supertype");if(!d)throw TypeError("Cannot override method or property '"+a+"' with getter/setter");if(!g||!g.virtual)throw TypeError("Cannot override non-virtual getter/setter '"+a+"'");if(!b.override)throw TypeError("Attempting to override getter/setter '"+a+"' without 'override' keyword");if(this._getVisibilityValue(g||{})<this._getVisibilityValue(b))throw TypeError("Cannot de-escalate visibility of getter/setter '"+a+"'")}else b.override&&this._warningHandler(Error("Getter/setter '"+a+"' using 'override' keyword without super getter/setter"))};c.prototype._getVisibilityValue=function(a){return a["protected"]?1:a["private"]?2:0}})(j.MemberBuilderValidator={},".");(function(b){var c=b.exports={};n=".";var a=h("./util");b.exports=c=function(){if(!(this instanceof c))return new b.exports};c.prototype.setup=function(a,b,c){var g=this._createPrivateLayer(a,b);this._doSetup(a,b["public"]);this._doSetup(a,b["protected"],c["protected"],!0);this._doSetup(g,b["private"],c["private"]);return g};c.prototype._createPrivateLayer=function(a,b){var c=function(){};c.prototype=a;c=new c;this.createPropProxy(a,c,b["protected"]);return c};c.prototype._doSetup=function(b,c,d,g){var i=Array.prototype.hasOwnProperty;if(void 0!==d)for(var h in d)if(i.call(d,h)){var j=b[h],n=j&&j.___$$keywords$$;if(!g||void 0===j||n["private"]||n["protected"])b[h]=d[h]}for(var p in c)i.call(c,p)&&(b[p]=a.clone(c[p][0]))};c.prototype.createPropProxy=function(a,b,c){var g=Object.prototype.hasOwnProperty,i;for(i in c)g.call(c,i)&&function(c){b[c]=void 0;Object.defineProperty(b,c,{set:function(b){a[c]=b},get:function(){return a[c]},enumerable:!0})}.call(null,i);return b}})(j.VisibilityObjectFactory={},".");(function(b){var c=b.exports={};n=".";b.exports=c=function(){if(!(this instanceof c))return new b.exports};c.prototype=h("./VisibilityObjectFactory")();c.prototype._createPrivateLayer=function(a){return a};c.prototype.createPropProxy=function(a){return a}})(j.FallbackVisibilityObjectFactory={},".");(function(b){b=b.exports={};n=".";var c=h("./util"),a=h("./VisibilityObjectFactory"),f=h("./FallbackVisibilityObjectFactory");b.fromEnvironment=function(){return c.definePropertyFallback()?f():a()}})(j.VisibilityObjectFactoryFactory={},".");(function(b){function c(a){if(1<arguments.length)throw Error("Expecting one argument for anonymous Class definition; "+arguments.length+" given.");return i(a)}function a(a,c){if(2<arguments.length)throw Error("Expecting at most two arguments for definition of named Class '"+a+"'; "+arguments.length+" given.");if(void 0===c)return f(a);if("object"!==typeof c)throw TypeError("Unexpected value for definition of named Class '"+a+"'; object expected");c.__name=a;return i(c)}function f(a){return{extend:function(){for(var c=[],b=arguments.length;b--;)c[b]=arguments[b];c[c.length-1].__name=a;return i.apply(null,c)},implement:function(){for(var c=[],b=arguments.length;b--;)c[b]=arguments[b];return e(null,c,a)},use:function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return d(q,a)}}}function e(a,c,b){var e={extend:function(){var d=arguments.length,e=arguments[d-1],k=1<d?arguments[d-2]:null;if(2<d)throw Error("Expecting no more than two arguments for extend()");if(a&&k)throw Error("Cannot override parent "+a.toString()+" with "+k.toString()+" via extend()");if(b)e.__name=b;c.push(a||k||i({}));return i.call(null,o.apply(this,c),e)},use:function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return d(function(){return e.__createBase()},a)},__createBase:function(){return e.extend({})}};return e}function d(a,c,b){var e=function(){if(!b)throw TypeError("Cannot instantiate incomplete class definition; did you forget to call `extend'?");return g(a(),c).apply(null,arguments)};e.extend=function(){var b=arguments.length,d=arguments[b-1],b=1<b?arguments[b-2]:null,e=a();return i.call(null,g(e||b,c),d)};e.use=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return d(function(){return e.__createBase()},a,b)};e.__createBase=function(){return e.extend({})};return e}function g(a,c){for(var b={___$$auto$abstract$$:!0},d=[],e=0,k=c.length;e<k;e++)c[e].__mixin(b,d,a||z.ClassBase);b=i.call(null,a,b);d=z.getMeta(b).implemented;e=0;for(k=c.length;e<k;e++)d.push(c[e]),c[e].__mixinImpl(d);return b}function i(a,c){for(var b=[],d=arguments.length;d--;)b[d]=arguments[d];b=x.build.apply(x,b);j(b);r(b);y(b);v.freeze(b);return b}function j(a){v.defineSecureProp(a,"extend",function(a){return i(this,a)})}function r(a){v.defineSecureProp(a,"implement",function(){for(var c=[],b=arguments.length;b--;)c[b]=arguments[b];return e(a,c)})}function y(a){v.defineSecureProp(a,"use",function(){for(var c=[],b=arguments.length;b--;)c[b]=arguments[b];return d(function(){return a},c,!0)})}b.exports={};n=".";var p="undefined"!==typeof console?console:void 0,v=h("./util"),z=h("./ClassBuilder"),A=h("./warn"),m=A.Warning,l=A.LogHandler(p),p=h("./MethodWrapperFactory"),A=h("./MethodWrappers").standard,x=z(l,h("./MemberBuilder")(p(A.wrapNew),p(A.wrapOverride),p(A.wrapProxy),h("./MemberBuilderValidator")(function(a){l.handle(m(a))})),h("./VisibilityObjectFactoryFactory").fromEnvironment()),q=function(){return null};b.exports=function(b,d){for(var e=typeof b,k=null,k=[],f=arguments.length;f--;)k[f]=arguments[f];switch(e){case"object":k=c.apply(null,k);break;case"string":k=a.apply(null,k);break;default:throw TypeError("Expecting anonymous class definition or named class definition")}return k};b.exports.extend=i;b.exports.implement=function(a){return e(null,Array.prototype.slice.call(arguments))};b.exports.use=function(a){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];return d(q,b)};var s={prototype:{}},k={constructor:{prototype:{}}};b.exports.isClass=function(a){a=a||s;if(!a.prototype)return!1;var c=z.getMeta(a);return null!==c&&c.implemented||a.prototype instanceof z.ClassBase?!0:!1};b.exports.isClassInstance=function(a){a=a||k;return b.exports.isClass(a.constructor)};b.exports.isInstanceOf=z.isInstanceOf;b.exports.isA=b.exports.isInstanceOf;var o=function(a,c){for(var d=arguments.length,e={},k=arguments[d-1],f=null,g=[],o=!1,i=0;i<d-1;i++)f=arguments[i],v.propParse(f.prototype,{method:function(a,c){e["abstract "+a]=c.definition;o=!0}}),g.push(f);if(o)e.___$$abstract$$=!0;d=b.exports.extend(k,e);z.getMeta(d).implemented=g;return d}})(j["class"]={},".");(function(b){function c(a){if("object"===typeof a)a.___$$abstract$$=!0}function a(b){var e=b.extend,f=b.implement,h=b.use;f&&(b.implement=function(){return a(f.apply(this,arguments))});h&&(b.use=function(){return a(h.apply(this,arguments))});b.extend=function(){c(arguments[arguments.length-1]);return e.apply(this,arguments)};b.__createBase=function(){return e({___$$auto$abstract$$:!0})};return b}var f=b.exports={};n=".";var e=h("./class");b.exports=f=function(){c(arguments[arguments.length-1]);var b=e.apply(this,arguments);e.isClass(b)||a(b);return b};f.extend=function(){c(arguments[arguments.length-1]);return e.extend.apply(this,arguments)};f.use=function(){return a(e.use.apply(this,arguments))};f.implement=function(){return a(e.implement.apply(this,arguments))}})(j.class_abstract={},".");(function(b){function c(){}function a(a){if(1<arguments.length)throw Error("Expecting one argument for Interface definition; "+arguments.length+" given.");return l(a)}function f(a,b){if(2<arguments.length)throw Error("Expecting two arguments for definition of named Interface '"+a+"'; "+arguments.length+" given.");
if("object"!==typeof b)throw TypeError("Unexpected value for definition of named Interface '"+a+"'; object expected");b.__name=a;return l(b)}function e(a,b){b.message="Failed to define interface "+(a?a:"(anonymous)")+": "+b.message;throw b}function d(a){p.defineSecureProp(a,"extend",function(a){return l(this,a)})}function g(a,b){a.toString=b?function(){return"[object Interface <"+b+">]"}:function(){return"[object Interface]"}}function i(a){p.defineSecureProp(a,"isCompatible",function(b){return 0===j(a,b).length})}function j(a,b){var c=[];p.propParse(a.prototype,{method:function(a,d){"function"!==typeof b[a]?c.push([a,"missing"]):b[a].length<d.__length&&c.push([a,"incompatible"])}});return c}function r(a){p.defineSecureProp(a,"__isInstanceOf",function(a,b){return y(a,b)})}function y(a,b){var c=b.constructor,d;if(!b.__cid||!(d=m.getMeta(c)))return 0===j(a,b).length;c=d.implemented;for(d=c.length;d--;)if(c[d]===a)return!0;return!1}b.exports={};n=".";var p=h("./util"),v=h("./MethodWrapperFactory"),z=h("./MethodWrappers").standard,A=h("./MemberBuilder")(v(z.wrapNew),v(z.wrapOverride),v(z.wrapProxy),h("./MemberBuilderValidator")());h("./class");var m=h("./ClassBuilder");b.exports=function(b,c){var d=null;switch(typeof b){case"object":d=a.apply(null,arguments);break;case"string":d=f.apply(null,arguments);break;default:throw TypeError("Expecting anonymous interface definition or named interface definition")}return d};b.exports.extend=function(){return l.apply(this,arguments)};b.exports.isInterface=function(a){a=a||{};return a.prototype instanceof c?!0:!1};var l=function(a){function b(c){return function(){if(!a)throw Error("Interface "+(c?c+" ":"")+" cannot be instantiated")}}return function(){a=!0;var f=arguments,k=f.length,o=(0<k?f[k-1]:0)||{},f=new((1<k?f[k-2]:0)||c),h="",j={},w=A.initMembers(f,f,f);(h=o.__name)&&delete o.__name;if(!(f instanceof c))throw new TypeError("Interfaces may only extend other interfaces");k=b(h);p.propParse(o,{assumeAbstract:!0,_throw:function(a){e(h,a)},property:function(){e(h,TypeError("Unexpected internal error"))},getset:function(){e(h,TypeError("Unexpected internal error"))},method:function(a,b,c,d){(d["protected"]||d["private"])&&e(h,TypeError("Member "+a+" must be public"));A.buildMethod(w,null,a,b,d,null,0,{},j)}});d(k);g(k,h);i(k);r(k);k.prototype=f;k.constructor=k;p.freeze(k);a=!1;return k}}(!1);b.exports.isInstanceOf=y})(j["interface"]={},".");(function(b){function c(){}function a(){switch(arguments.length){case 0:throw Error("Missing trait name or definition");case 1:return"string"===typeof arguments[0]?e.apply(this,arguments):a.extend.apply(this,arguments);case 2:return f.apply(this,arguments)}throw Error("Expecting at most two arguments for definition of named Trait "+name+"'; "+arguments.length+" given")}function f(b,c){if("string"!==typeof b)throw Error("First argument of named class definition must be a string");c.__name=b;return a.extend(c)}function e(a){return{extend:function(b){return f(a,b)},implement:function(){return j(arguments,a)}}}function d(a,b,c,d){if("__construct"===a)throw Error("Traits may not define __construct");if(c["static"])throw Error("Cannot define member `"+a+"'; static trait members are currently unsupported");d.apply(this,arguments)}function g(a,b,c,d){if("___"!==a.substr(0,3)){if(!c["private"])throw Error("Cannot define property `"+a+"'; only private properties are permitted within Trait definitions");d.apply(this,arguments)}}function i(a){throw Error("Cannot define property `"+a+"'; getters/setters are currently unsupported")}function j(b,c){return{extend:function(d){if(c)d.__name=c;return a.extend.call({__$$meta:{ifaces:b}},d)}}}function r(a){var b={"protected ___$$pmo$$":null,"protected ___$$super$$":null,__construct:function(a,b){this.___$$super$$=a;this.___$$pmo$$=b},__name:"#ConcreteTrait#"},c=q.getMeta(a).abstractMethods,d;for(d in c)Object.hasOwnProperty.call(c,d)&&"__"!==d.substr(0,2)&&(b[(void 0!==a.___$$methods$$["public"][d]?"public":"protected")+" proxy "+d]="___$$pmo$$");y(a,b);return a.extend(b)}function y(a,b){var c=q.getMeta(a).virtualMembers,d;for(d in c){var e=void 0!==a.___$$methods$$["public"][d]?"public":"protected",f=a.___$$methods$$[e][d],g=f.__length;b[e+" virtual override "+d]=function(a){var b=function(){var b=this.___$$pmo$$,c=b[a];return c?c.apply(b,arguments):this.__super.apply(this,arguments)};b.__length=g;return b}(d);b[e+" virtual __$$"+d]=function(a){var b=function(){return a.apply(this,arguments)};b.__length=g;return b}(f)}}function p(a,b,d,e){var f=a.__acls,a=A(a,b,d,e);b["weak virtual ___$$ctor$pre$$"]=c;b["weak virtual ___$$ctor$post$$"]=c;e===q.ClassBase?(b["virtual override ___$$ctor$post$$"]=l,b["virtual override ___$$ctor$pre$$"]=c):(b["virtual override ___$$ctor$post$$"]=c,b["virtual override ___$$ctor$pre$$"]=l);v(f,b,a);return b}function v(a,b,c){a=a.___$$methods$$;z(a["public"],b,"public",c);z(a["protected"],b,"protected",c);(a=a["public"].___$$parent$$)&&a.constructor!==q.ClassBase&&v(a.constructor,b,c)}function z(a,b,c,d){for(var e in a)if(Object.hasOwnProperty.call(a,e)&&"__mixin"!==e&&a[e].___$$keywords$$){var f=a[e].___$$keywords$$,c=f["protected"]?"protected":"public";if(f["abstract"]&&!f.override)b[c+" weak abstract "+e]=a[e].definition;else{var g=f.virtual,c=(g?"":"proxy ")+(g?"virtual ":"")+(f.override?"override ":"")+c+" "+e;if(void 0!==b[c])throw Error("Trait member conflict: `"+e+"'");b[c]=f.virtual?function(b){var c=function(){var a=this[d],c=a["__$$"+b].apply(a,arguments);return c===a?this:c};c.__length=a[b].__length;return c}(e):d}}}function A(a,b,c,d){var e="___$to$"+a.__acls.__cid+"$"+d.__cid;c.push([e,a]);b["private "+e]=null;void 0===b.___$$tctor$$&&(b["weak virtual ___$$tctor$$"]=function(){},b["virtual override ___$$tctor$$"]=m(c,d));return e}function m(a,b){return function(c){for(var d in a){var e=a[d][0],f=a[d][1],g=f.__ccls||(f.__ccls=r(f.__acls));this[e]=g(b,this[c].vis)[c].vis;this[e].__mixin&&this[e].__mixin.apply(this[e],f.___$$mixinargs)}this.__super&&this.__super(c)}}function l(){this.___$$tctor$$.apply(this,arguments)}b.exports={};n=".";var x=h("./class_abstract"),q=h("./ClassBuilder"),s=h("./interface");a.extend=function(a){var b=(this||{}).__$$meta||{},c=a.__name||"(Trait)",e="function"===typeof a.__mixin?"param":"std";a.___$$parser$$={each:d,property:g,getset:i};a.___$$auto$abstract$$=!0;a.__name="#AbstractTrait#";var f="param"===e?function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];var c=function(){throw Error("Cannot re-configure argument trait")};c.___$$mixinargs=a;c.__trait="arg";c.__acls=f.__acls;c.__ccls=f.__ccls;c.toString=f.toString;c.__mixinImpl=f.__mixinImpl;c.__isInstanceOf=f.__isInstanceOf;c.__mixin=function(a,b,d){p(c,a,b,d)};return c}:function(){throw Error("Cannot instantiate non-parameterized trait")},h=x;b.ifaces&&(h=h.implement.apply(null,b.ifaces));var j=h.extend(a);f.__trait=e;f.__acls=j;f.__ccls=null;f.toString=function(){return""+c};f.___$$mixinargs=[];f.__mixin=function(a,b,c){p(f,a,b,c)};f.__mixinImpl=function(a){for(var b=q.getMeta(j).implemented||[],c=b.length;c--;)a.push(b[c])};f.__isInstanceOf=s.isInstanceOf;return f};a.implement=function(){return j(arguments)};a.isTrait=function(a){return!!(a||{}).__trait};a.isParameterTrait=function(a){return"param"===(a||{}).__trait};a.isArgumentTrait=function(a){return"arg"===(a||{}).__trait};b.exports=a})(j.Trait={},".");(function(b){function c(a){if("object"===typeof a)a.___$$final$$=!0}function a(a){var b=a.extend;a.extend=function(){c(arguments[arguments.length-1]);return b.apply(this,arguments)}}var f=b.exports={};n=".";var e=h("./class"),f=b.exports=function(){c(arguments[arguments.length-1]);var b=e.apply(this,arguments);e.isClass(b)||a(b);return b};f.extend=function(){c(arguments[arguments.length-1]);return e.extend.apply(this,arguments)}})(j.class_final={},".");(function(b){var c=b.exports={};n=".";var a=h("./MemberBuilder");b.exports=c=function(a,c){if(!(this instanceof b.exports))return new b.exports(a,c);b.exports.prototype.constructor.call(this,a,c)};b.exports.prototype=new a;b.exports.constructor=b.exports;c.prototype.buildGetterSetter=function(){throw Error("Getters/setters are unsupported in this environment")}})(j.FallbackMemberBuilder={},".");(function(b){function c(){if(!(this instanceof c))return new c;this._alt={}}b.exports={};n="util";(0,eval)("var _the_global=this");c.expose=function(){return _the_global};c.prototype={provideAlt:function(a,b){if(!(void 0!==_the_global[a]||void 0!==this._alt[a]))return this._alt[a]=b(),this},get:function(a){return void 0!==this._alt[a]?this._alt[a]:_the_global[a]}};b.exports=c})(j["util/Global"]={},".");(function(b){b.exports={};n="util";var c=h("./symbol/FallbackSymbol"),a=h("./Global").expose();b.exports=a.Symbol||c})(j["util/Symbol"]={},".");(function(b){function c(){if(!(this instanceof c))return new c;this.___$$id$$=e+f(1e8*a())}b.exports={};n="util/symbol";var a=Math.random,f=Math.floor,e=" "+String.fromCharCode(f(10*a())%31+1)+"$";c.prototype={toString:function(){return this.___$$id$$}};b.exports=c})(j["util/symbol/FallbackSymbol"]={},".");(function(b){b.exports={};n=".";var c=[0,2,4,""];c.major=0;c.minor=2;c.rev=4;c.suffix="";c.toString=function(){return this.join(".").replace(/\.([^.]*)$/,"-$1").replace(/-$/,"")};b.exports=c})(j.version={},".");(function(b){function c(){if(!(this instanceof c))return new c}b.exports={};n="warn";c.prototype={handle:function(){}};b.exports=c})(j["warn/DismissiveHandler"]={},".");(function(b){function c(a){if(!(this instanceof c))return new c(a);this._console=a||{}}b.exports={};n="warn";c.prototype={handle:function(a){var b=this._console.warn||this._console.log;b&&b.call(this._console,"Warning: "+a.message)}};b.exports=c})(j["warn/LogHandler"]={},".");(function(b){function c(){if(!(this instanceof c))return new c}b.exports={};n="warn";c.prototype={handle:function(a){throw a.getError()}};b.exports=c})(j["warn/ThrowHandler"]={},".");(function(b){function c(a){if(!(this instanceof c))return new c(a);if(!(a instanceof Error))throw TypeError("Must provide exception to wrap");Error.prototype.constructor.call(this,a.message);this.message=a.message;this.name="Warning";this._error=a;this.stack=a.stack&&a.stack.replace(/^.*?\n+/,this.name+": "+this.message+"\n")}b.exports={};n="warn";c.prototype=Error();c.prototype.constructor=c;c.prototype.name="Warning";c.prototype.getError=function(){return this._error};b.exports=c})(j["warn/Warning"]={},".");B.Class=j["class"].exports;B.AbstractClass=j.class_abstract.exports;B.FinalClass=j.class_final.exports;B.Interface=j["interface"].exports;B.Trait=j.Trait.exports;B.version=j.version.exports})(easejs,".");module.exports=easejs},{}],35:[function(require,module,exports){var GeneJS={Class:require("./easejs.js").Class};module.exports=GeneJS},{"./easejs.js":34}],36:[function(require,module,exports){exports.puremvc=require("./lib/puremvc-1.0.1-mod.js");exports.puremvc.statemachine=require("./lib/puremvc-statemachine-1.0-mod.js")},{"./lib/puremvc-1.0.1-mod.js":37,"./lib/puremvc-statemachine-1.0-mod.js":38}],37:[function(require,module,exports){function Observer(notifyMethod,notifyContext){this.setNotifyMethod(notifyMethod);this.setNotifyContext(notifyContext)}Observer.prototype.setNotifyMethod=function(notifyMethod){this.notify=notifyMethod};Observer.prototype.setNotifyContext=function(notifyContext){this.context=notifyContext};Observer.prototype.getNotifyMethod=function(){return this.notify};Observer.prototype.getNotifyContext=function(){return this.context};Observer.prototype.notifyObserver=function(notification){this.getNotifyMethod().call(this.getNotifyContext(),notification)};Observer.prototype.compareNotifyContext=function(object){return object===this.context};Observer.prototype.notify=null;Observer.prototype.context=null;function Notification(name,body,type){this.name=name;this.body=body;this.type=type}Notification.prototype.getName=function(){return this.name};Notification.prototype.setBody=function(body){this.body=body};Notification.prototype.getBody=function(){return this.body};Notification.prototype.setType=function(type){this.type=type};Notification.prototype.getType=function(){return this.type};Notification.prototype.toString=function(){var msg="Notification Name: "+this.getName();msg+="\nBody:"+(this.body==null?"null":this.body.toString());msg+="\nType:"+(this.type==null?"null":this.type);return msg};Notification.prototype.name=null;Notification.prototype.type=null;Notification.prototype.body=null;function Notifier(){}Notifier.prototype.sendNotification=function(notificationName,body,type){var facade=this.getFacade();if(facade){facade.sendNotification(notificationName,body,type)}};Notifier.prototype.facade;Notifier.prototype.initializeNotifier=function(key){this.multitonKey=String(key);this.facade=this.getFacade()};Notifier.prototype.getFacade=function(){if(this.multitonKey==null){throw new Error(Notifier.MULTITON_MSG)}return Facade.getInstance(this.multitonKey)};Notifier.prototype.multitonKey=null;Notifier.MULTITON_MSG="multitonKey for this Notifier not yet initialized!";function SimpleCommand(){}SimpleCommand.prototype=new Notifier;SimpleCommand.prototype.constructor=SimpleCommand;SimpleCommand.prototype.execute=function(notification){};function MacroCommand(){this.subCommands=[];this.initializeMacroCommand()}MacroCommand.prototype=new Notifier;MacroCommand.prototype.constructor=MacroCommand;MacroCommand.prototype.subCommands=null;MacroCommand.prototype.initializeMacroCommand=function(){};MacroCommand.prototype.addSubCommand=function(commandClassRef){this.subCommands.push(commandClassRef)};MacroCommand.prototype.execute=function(note){while(this.subCommands.length>0){var ref=this.subCommands.shift();var cmd=new ref;cmd.initializeNotifier(this.multitonKey);cmd.execute(note)}};function Mediator(mediatorName,viewComponent){this.mediatorName=mediatorName||this.constructor.NAME;this.viewComponent=viewComponent}Mediator.NAME="Mediator";Mediator.prototype=new Notifier;Mediator.prototype.constructor=Mediator;Mediator.prototype.getMediatorName=function(){return this.mediatorName};Mediator.prototype.setViewComponent=function(viewComponent){this.viewComponent=viewComponent};Mediator.prototype.getViewComponent=function(){return this.viewComponent};Mediator.prototype.listNotificationInterests=function(){return[]};Mediator.prototype.handleNotification=function(notification){return};Mediator.prototype.onRegister=function(){return};Mediator.prototype.onRemove=function(){return};Mediator.prototype.mediatorName=null;Mediator.prototype.viewComponent=null;function Proxy(proxyName,data){this.proxyName=proxyName||this.constructor.NAME;if(data!=null){this.setData(data)}}Proxy.NAME="Proxy";Proxy.prototype=new Notifier;Proxy.prototype.constructor=Proxy;Proxy.prototype.getProxyName=function(){return this.proxyName};Proxy.prototype.setData=function(data){this.data=data};Proxy.prototype.getData=function(){return this.data};Proxy.prototype.onRegister=function(){return};Proxy.prototype.onRemove=function(){return};Proxy.prototype.proxyName=null;Proxy.prototype.data=null;function Facade(key){if(Facade.instanceMap[key]!=null){throw new Error(Facade.MULTITON_MSG)}this.initializeNotifier(key);Facade.instanceMap[key]=this;this.initializeFacade()}Facade.prototype.initializeFacade=function(){this.initializeModel();this.initializeController();this.initializeView()};Facade.getInstance=function(key){if(null==key)return null;if(Facade.instanceMap[key]==null){Facade.instanceMap[key]=new Facade(key)}return Facade.instanceMap[key]};Facade.prototype.initializeController=function(){if(this.controller!=null)return;this.controller=Controller.getInstance(this.multitonKey)};Facade.prototype.initializeModel=function(){if(this.model!=null)return;this.model=Model.getInstance(this.multitonKey)};Facade.prototype.initializeView=function(){if(this.view!=null)return;this.view=View.getInstance(this.multitonKey)};Facade.prototype.registerCommand=function(notificationName,commandClassRef){this.controller.registerCommand(notificationName,commandClassRef)};Facade.prototype.removeCommand=function(notificationName){this.controller.removeCommand(notificationName)};Facade.prototype.hasCommand=function(notificationName){return this.controller.hasCommand(notificationName)};Facade.prototype.registerProxy=function(proxy){this.model.registerProxy(proxy)};Facade.prototype.retrieveProxy=function(proxyName){return this.model.retrieveProxy(proxyName)};Facade.prototype.removeProxy=function(proxyName){var proxy=null;if(this.model!=null){proxy=this.model.removeProxy(proxyName)}return proxy};Facade.prototype.hasProxy=function(proxyName){return this.model.hasProxy(proxyName)};Facade.prototype.registerMediator=function(mediator){if(this.view!=null){this.view.registerMediator(mediator)}};Facade.prototype.retrieveMediator=function(mediatorName){return this.view.retrieveMediator(mediatorName)};Facade.prototype.removeMediator=function(mediatorName){var mediator=null;if(this.view!=null){mediator=this.view.removeMediator(mediatorName)}return mediator};Facade.prototype.hasMediator=function(mediatorName){return this.view.hasMediator(mediatorName)};Facade.prototype.sendNotification=function(notificationName,body,type){this.notifyObservers(new Notification(notificationName,body,type))};Facade.prototype.notifyObservers=function(notification){if(this.view!=null){this.view.notifyObservers(notification)}};Facade.prototype.initializeNotifier=function(key){this.multitonKey=key};Facade.hasCore=function(key){return Facade.instanceMap[key]!=null};Facade.removeCore=function(key){if(Facade.instanceMap[key]==null)return;Model.removeModel(key);View.removeView(key);Controller.removeController(key);delete Facade.instanceMap[key]};Facade.prototype.controller=null;Facade.prototype.model=null;Facade.prototype.view=null;Facade.prototype.multitonKey=null;Facade.instanceMap=[];Facade.MULTITON_MSG="Facade instance for this Multiton key already constructed!";function View(key){if(View.instanceMap[key]!=null){throw new Error(View.MULTITON_MSG)}this.multitonKey=key;View.instanceMap[this.multitonKey]=this;this.mediatorMap=[];this.observerMap=[];this.initializeView()}View.prototype.initializeView=function(){return};View.getInstance=function(key){if(null==key)return null;if(View.instanceMap[key]==null){View.instanceMap[key]=new View(key)}return View.instanceMap[key]};View.prototype.registerObserver=function(notificationName,observer){if(this.observerMap[notificationName]!=null){this.observerMap[notificationName].push(observer)}else{this.observerMap[notificationName]=[observer]}};View.prototype.notifyObservers=function(notification){if(this.observerMap[notification.getName()]!=null){var observers_ref=this.observerMap[notification.getName()],observers=[],observer;for(var i=0;i<observers_ref.length;i++){observer=observers_ref[i];observers.push(observer)}for(var i=0;i<observers.length;i++){observer=observers[i];observer.notifyObserver(notification)}}};View.prototype.removeObserver=function(notificationName,notifyContext){var observers=this.observerMap[notificationName];for(var i=0;i<observers.length;i++){if(observers[i].compareNotifyContext(notifyContext)==true){observers.splice(i,1);break}}if(observers.length==0){delete this.observerMap[notificationName]}};View.prototype.registerMediator=function(mediator){if(this.mediatorMap[mediator.getMediatorName()]!=null){return}mediator.initializeNotifier(this.multitonKey);this.mediatorMap[mediator.getMediatorName()]=mediator;var interests=mediator.listNotificationInterests();if(interests.length>0){var observer=new Observer(mediator.handleNotification,mediator);for(var i=0;i<interests.length;i++){this.registerObserver(interests[i],observer)}}mediator.onRegister()};View.prototype.retrieveMediator=function(mediatorName){return this.mediatorMap[mediatorName]};View.prototype.removeMediator=function(mediatorName){var mediator=this.mediatorMap[mediatorName];if(mediator){var interests=mediator.listNotificationInterests();for(var i=0;i<interests.length;i++){this.removeObserver(interests[i],mediator)}delete this.mediatorMap[mediatorName];mediator.onRemove()}return mediator};View.prototype.hasMediator=function(mediatorName){return this.mediatorMap[mediatorName]!=null};View.removeView=function(key){delete View.instanceMap[key]};View.prototype.mediatorMap=null;View.prototype.observerMap=null;View.instanceMap=[];View.prototype.multitonKey=null;View.MULTITON_MSG="View instance for this Multiton key already constructed!";function Model(key){if(Model.instanceMap[key]){throw new Error(Model.MULTITON_MSG)}this.multitonKey=key;Model.instanceMap[key]=this;this.proxyMap=[];this.initializeModel()}Model.prototype.initializeModel=function(){};Model.getInstance=function(key){if(null==key)return null;if(Model.instanceMap[key]==null){Model.instanceMap[key]=new Model(key)}return Model.instanceMap[key]};Model.prototype.registerProxy=function(proxy){proxy.initializeNotifier(this.multitonKey);this.proxyMap[proxy.getProxyName()]=proxy;proxy.onRegister()};Model.prototype.retrieveProxy=function(proxyName){return this.proxyMap[proxyName]};Model.prototype.hasProxy=function(proxyName){return this.proxyMap[proxyName]!=null};Model.prototype.removeProxy=function(proxyName){var proxy=this.proxyMap[proxyName];if(proxy){this.proxyMap[proxyName]=null;proxy.onRemove()}return proxy};Model.removeModel=function(key){delete Model.instanceMap[key]};Model.prototype.proxyMap=null;Model.instanceMap=[];Model.prototype.multitonKey;Model.MULTITON_MSG="Model instance for this Multiton key already constructed!";function Controller(key){if(Controller.instanceMap[key]!=null){throw new Error(Controller.MULTITON_MSG)}this.multitonKey=key;Controller.instanceMap[this.multitonKey]=this;this.commandMap=new Array;this.initializeController()}Controller.prototype.initializeController=function(){this.view=View.getInstance(this.multitonKey)};Controller.getInstance=function(key){if(null==key)return null;if(null==this.instanceMap[key]){this.instanceMap[key]=new this(key)}return this.instanceMap[key]};Controller.prototype.executeCommand=function(note){var commandClassRef=this.commandMap[note.getName()];if(commandClassRef==null)return;var commandInstance=new commandClassRef;commandInstance.initializeNotifier(this.multitonKey);commandInstance.execute(note)};Controller.prototype.registerCommand=function(notificationName,commandClassRef){if(this.commandMap[notificationName]==null){this.view.registerObserver(notificationName,new Observer(this.executeCommand,this))}this.commandMap[notificationName]=commandClassRef};Controller.prototype.hasCommand=function(notificationName){return this.commandMap[notificationName]!=null};Controller.prototype.removeCommand=function(notificationName){if(this.hasCommand(notificationName)){this.view.removeObserver(notificationName,this);this.commandMap[notificationName]=null}};Controller.removeController=function(key){delete this.instanceMap[key]};Controller.prototype.view=null;Controller.prototype.commandMap=null;Controller.prototype.multitonKey=null;Controller.instanceMap=[];Controller.MULTITON_MSG="controller key for this Multiton key already constructed";var OopHelp={global:function(){return this}(),extend:function(child,parent){if("function"!==typeof child)throw new TypeError("#extend- child should be Function");if("function"!==typeof parent)throw new TypeError("#extend- parent should be Function");if(parent===child)return;var Transitive=new Function;Transitive.prototype=parent.prototype;child.prototype=new Transitive;return child.prototype.constructor=child},decorate:function(object,traits){for(var accessor in traits){object[accessor]=traits[accessor]}return object}};function declare(qualifiedName,object,scope){var nodes=qualifiedName.split("."),node=scope||OopHelp.global,lastNode,newNode,nodeName;for(var i=0,n=nodes.length;i<n;i++){lastNode=node;nodeName=nodes[i];node=null==node[nodeName]?node[nodeName]={}:node[nodeName]}if(null==object)return node;return lastNode[nodeName]=object}function define(classInfo,traits,staticTraits){if(!classInfo){classInfo={}}var className=classInfo.name,classParent=classInfo.parent,doExtend="function"===typeof classParent,classConstructor,classScope=classInfo.scope||null,prototype;if("parent"in classInfo&&!doExtend){throw new TypeError("Class parent must be Function")}if(classInfo.hasOwnProperty("constructor")){classConstructor=classInfo.constructor;if("function"!==typeof classConstructor){throw new TypeError("Class constructor must be Function")}}else{if(doExtend){classConstructor=function(){classParent.apply(this,arguments)}}else{classConstructor=new Function}}if(doExtend){OopHelp.extend(classConstructor,classParent)}if(traits){prototype=classConstructor.prototype;OopHelp.decorate(prototype,traits);prototype.constructor=classConstructor}if(staticTraits){OopHelp.decorate(classConstructor,staticTraits)}if(className){if("string"!==typeof className){throw new TypeError("Class name must be primitive string")}declare(className,classConstructor,classScope)}return classConstructor}var puremvc={View:View,Model:Model,Controller:Controller,SimpleCommand:SimpleCommand,MacroCommand:MacroCommand,Facade:Facade,Mediator:Mediator,Observer:Observer,Notification:Notification,Notifier:Notifier,Proxy:Proxy,define:define,declare:declare};module.exports=puremvc},{}],38:[function(require,module,exports){var puremvc=require("./puremvc-1.0.1-mod.js");function State(name,entering,exiting,changed){this.name=name;if(entering)this.entering=entering;if(exiting)this.exiting=exiting;if(changed)this.changed=changed;this.transitions={}}State.prototype.defineTrans=function(action,target){if(this.getTarget(action)!=null)return;this.transitions[action]=target};State.prototype.removeTrans=function(action){delete this.transitions[action]};State.prototype.getTarget=function(action){return this.transitions[action]?this.transitions[action]:null};State.prototype.name=null;State.prototype.entering=null;State.prototype.exiting=null;State.prototype.changed=null;State.prototype.transitions=null;function StateMachine(){puremvc.Mediator.call(this,StateMachine.NAME,null);this.states={}}StateMachine.prototype=new puremvc.Mediator;StateMachine.prototype.constructor=StateMachine;StateMachine.prototype.onRegister=function(){if(this.initial)this.transitionTo(this.initial,null)};StateMachine.prototype.registerState=function(state,initial){if(state==null||this.states[state.name]!=null)return;this.states[state.name]=state;if(initial)this.initial=state};StateMachine.prototype.removeState=function(stateName){var state=this.states[stateName];if(state==null)return;this.states[stateName]=null};StateMachine.prototype.transitionTo=function(nextState,data){if(nextState==null)return;this.canceled=false;if(this.getCurrentState()&&this.getCurrentState().exiting)this.sendNotification(this.getCurrentState().exiting,data,nextState.name);if(this.canceled){this.canceled=false;return}if(nextState.entering)this.sendNotification(nextState.entering,data);if(this.canceled){this.canceled=false;return}this.setCurrentState(nextState);if(nextState.changed){this.sendNotification(this.getCurrentState().changed,data)}this.sendNotification(StateMachine.CHANGED,this.getCurrentState(),this.getCurrentState().name)};StateMachine.prototype.listNotificationInterests=function(){return[StateMachine.ACTION,StateMachine.CANCEL]};StateMachine.prototype.handleNotification=function(notification){switch(notification.getName()){case StateMachine.ACTION:var action=notification.getType();var target=this.getCurrentState().getTarget(action);var newState=this.states[target];if(newState)this.transitionTo(newState,notification.getBody());break;case StateMachine.CANCEL:this.canceled=true;break}};StateMachine.prototype.getCurrentState=function(){return this.viewComponent};StateMachine.prototype.setCurrentState=function(state){this.viewComponent=state};StateMachine.prototype.states=null;StateMachine.prototype.initial=null;StateMachine.prototype.canceled=null;StateMachine.NAME="StateMachine";StateMachine.ACTION=StateMachine.NAME+"/notes/action";StateMachine.CHANGED=StateMachine.NAME+"/notes/changed";StateMachine.CANCEL=StateMachine.NAME+"/notes/cancel";function FSMInjector(fsm){puremvc.Notifier.call(this);this.fsm=fsm}FSMInjector.prototype=new puremvc.Notifier;FSMInjector.prototype.constructor=FSMInjector;FSMInjector.prototype.inject=function(){var stateMachine=new puremvc.statemachine.StateMachine;var states=this.getStates();for(var i=0;i<states.length;i++){stateMachine.registerState(states[i],this.isInitial(states[i].name))}this.facade.registerMediator(stateMachine)};FSMInjector.prototype.getStates=function(){if(this.stateList==null){this.stateList=[];var stateDefs=this.fsm.state?this.fsm.state:[];for(var i=0;i<stateDefs.length;i++){var stateDef=stateDefs[i];var state=this.createState(stateDef);this.stateList.push(state)}}return this.stateList};FSMInjector.prototype.createState=function(stateDef){var name=stateDef["@name"];var exiting=stateDef["@exiting"];var entering=stateDef["@entering"];var changed=stateDef["@changed"];var state=new puremvc.statemachine.State(name,entering,exiting,changed);var transitions=stateDef.transition?stateDef.transition:[];for(var i=0;i<transitions.length;i++){var transDef=transitions[i];state.defineTrans(transDef["@action"],transDef["@target"])}return state};FSMInjector.prototype.isInitial=function(stateName){var initial=this.fsm["@initial"];return stateName==initial};FSMInjector.prototype.fsm=null;FSMInjector.prototype.stateList=null;puremvc.statemachine={State:State,StateMachine:StateMachine,FSMInjector:FSMInjector};module.exports=puremvc.statemachine},{"./puremvc-1.0.1-mod.js":37}]},{},[2]);